<!-- <app-filter></app-filter> -->

<!-- project image -->
<img src="{{ currentProject.heroUrl }}" onError="this.classList.add('no-image')" />

<!-- project title -->
<h1>{{ currentProject?.longTitle }}</h1>

<!-- project duration -->
<section class="duration">
  {{ currentProject.startDate }} &mdash; {{ currentProject.endDate || 'current' }}
</section>

<!-- project description -->
<section class="description">
  <div [innerHTML]="currentProject?.description"></div>
</section>

<!-- project client -->
<section class="client">
  <h3>Client</h3>
  <div>{{ currentProject?.client }}</div>
</section>

<!-- project role -->
<section class="role">
  <h3>Role</h3>
  <div class="tags">
    <span *ngFor="let tag of currentProject.tags">{{ tag }}</span>
  </div>
</section>

<!-- blocks -->
<section class="blocks" *ngIf="currentProject.blocks">
  <div *ngFor="let block of currentProject.blocks">
    <h4 *ngIf="block.headline" class="headline">{{ block.headline }}</h4>
    <div *ngIf="block.image" class="images">
      <div *ngFor="let image of block.image">
        <img src="{{ image }}" onError="this.classList.add('no-image')" />
      </div>
    </div>
    <div *ngIf="block.description" class="description" [innerHTML]="block.description"></div>

    <app-slider *ngIf="block.gallery" [slides]="block.gallery"></app-slider>

  </div>
</section>

<!-- <ul class="gallery">
  <li *ngFor="let slide of currentProject.gallery">
    <img src="{{ slide.imageUrl }}" />
    <span>{{ slide.title }}</span>
  </li>
</ul> -->

<section class="related">
  <h3>Related Work</h3>
  <ul>
    <ng-template ngFor let-project [ngForOf]="relatedProjects">
      <li *ngIf="project" routerLink="{{ '/project/' + project.id }}">
        <img src="{{ project.heroUrl }}" onError="this.nextSibling.classList.add('no-image')" />
        <div class="thumb" [ngStyle]="{'background-image': 'url(' + project.heroUrl + ')'}"></div>
        <h4>{{ project.shortTitle }}</h4>
        <div class="tags">
          <span *ngFor="let tag of project.tags">{{ tag }}</span>
        </div>
      </li>
    </ng-template>
  </ul>
</section>
